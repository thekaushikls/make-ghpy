name: 'Run IronPython'
description: 'A GitHub Action that runs a Python script with a Hello, World! program.'
author: 'Your Name'
branding:
  icon: "package"
  color: "purple"

inputs:
  source:
    description: "Source folder"
    required: true
  package-name:
    description: "Name of the package."
    required: true
  version:
    description: "Version tag of the plugin"
    required: true
  type:
    default: "ghpy"
    description: "Extension type of the package. Defaults to \".ghpy\""
    required: false
outputs:
  build_path:
   description: "Location of the built package."
    
runs:
  using: 'composite'
  steps:

    - name: Install IronPython v2.7.12
      shell: pwsh
      run: choco install ironpython --version=2.7.12

    - name: Compile Plugin
      id: compile
      shell: pwsh
      run: ipy client.py ${{inputs.source}} ${{inputs.package-name}} ${{inputs.version}} ${{inputs.type}}
    
    - name: Check
      shell: pwsh
      run: |
        echo SETTING VALUES TO OUTPUT
        echo The build_path is: "${{steps.compile.outputs.BUILD_PATH}}"
        echo "build_path=${{steps.compile.outputs.BUILD_PATH}}" >> $GITHUB_OUTPUT
        
        echo "::set-output name=build_path::${{steps.compile.outputs.BUILD_PATH}}"
        
